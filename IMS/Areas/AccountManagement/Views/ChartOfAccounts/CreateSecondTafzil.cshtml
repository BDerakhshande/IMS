@model IMS.Areas.AccountManagement.Models.SecondTafzil

<link rel="stylesheet" href="~/css/transactionstyle.css">

@{
    ViewData["Title"] = "ایجاد حساب تفصیل ۲";

    var errorMessage = TempData["ErrorMessage"];

    var successMessage = TempData["SuccessMessage"];
}

@if (errorMessage != null)

{
    <div class="alert alert-danger text-right">
        @errorMessage
    </div>
}

@if (successMessage != null)

{
    <div class="alert alert-success text-right">
        @successMessage
    </div>
}

<div class="container">
    <h2 class="text-center mb-4">@ViewData["Title"]</h2>

    <form asp-action="CreateSecondTafzil" method="post" class="rtl">
        @Html.AntiForgeryToken()

        <!-- کد حساب تفصیل ۲ -->
        <div class="form-group">
            <label for="Code">کد حساب تفصیل ۲</label>
            <input type="text" id="Code" name="Code" class="form-control" value="@Model.Code" required maxlength="50" />
            <span class="text-danger" asp-validation-for="Code"></span>
        </div>

        <!-- نام حساب تفصیل ۲ -->
        <div class="form-group">
            <label for="Name">نام حساب تفصیل ۲</label>
            <input type="text" id="Name" name="Name" class="form-control" value="@Model.Name" required maxlength="200" />
            <span class="text-danger" asp-validation-for="Name"></span>
        </div>

        <!-- حساب تفصیل ۱ -->
        <div class="form-group">
            <label for="TafzilId">حساب تفصیل ۱</label>
            @Html.DropDownListFor(
                     model => model.TafzilId,
                     new SelectList(ViewBag.Tafzils as List<IMS.Areas.AccountManagement.Models.Tafzil>, "Id", "Name", Model.TafzilId),
                     "انتخاب حساب تفصیل ۱",
                     new { @class = "form-control", required = "required" }
                     )
            <span class="text-danger" asp-validation-for="TafzilId"></span>
        </div>

        <!-- مرکز هزینه -->
        <div class="form-group">
            <label for="CostCenterId">مرکز هزینه</label>
            @Html.DropDownListFor(
                     model => model.CostCenterId,
                     new SelectList(ViewBag.CostCenters as List<IMS.Areas.AccountManagement.Models.CostCenter>, "Id", "Name", Model.CostCenterId),
                     "بدون انتخاب",
                     new { @class = "form-control" }  // حذف required
                     )
            <span class="text-danger" asp-validation-for="CostCenterId"></span>
        </div>


        <!-- دکمه ذخیره -->
        <div class="form-group text-center">
            <button type="submit" class="btn btn-success px-4">ذخیره</button>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // به طور اختیاری می‌توانید اعتبارسنجی برای این فیلد خاص را غیرفعال کنید
        $('#CostCenterId').removeAttr('data-val');
    </script>
}